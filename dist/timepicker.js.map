{"version":3,"sources":["../src/timepicker.js"],"names":["bindingHandlers","timepicker","init","element","valueAccessor","options","data","format","picker","isObservable","toDate","on","subscribe","newTime"],"mappings":";;AAAA;;;;AACA;;;;AACA;;;;AACA;;AACA;;;;AAEA,mBAAGA,eAAH,CAAmBC,UAAnB,GAAgC;AAC5BC,UAAM,cAAUC,OAAV,EAAmBC,aAAnB,EAAkC;AACpC,YAAIC,UAAUD,eAAd;AACA,YAAIE,OAAOD,QAAQC,IAAnB;AACA,YAAIC,SAASF,QAAQE,MAAR,IAAkB,EAA/B;AACA,YAAIC,SAAS,sBAAEL,OAAF,EAAWF,UAAX,CAAsBI,OAAtB,CAAb;;AAEA,YAAI,mBAAGI,YAAH,CAAgBH,IAAhB,CAAJ,EAA2B;AACvB;AACA,gBAAIA,MAAJ,EAAY;AACR,sCAAEH,OAAF,EAAWF,UAAX,CAAsB,SAAtB,EAAiC,sBAAOK,MAAP,EAAeC,MAAf,EAAuBG,MAAvB,EAAjC;AACH,aAFD,MAEO;AACHJ,qBAAK,sBAAO,sBAAEH,OAAF,EAAWF,UAAX,CAAsB,SAAtB,CAAP,EAAyCM,MAAzC,CAAgDA,MAAhD,CAAL;AACH;;AAEDC,mBAAOG,EAAP,CAAU,QAAV,EAAoB,YAAY;AAC5BL,qBAAK,sBAAO,sBAAEH,OAAF,EAAWF,UAAX,CAAsB,SAAtB,CAAP,EAAyCM,MAAzC,CAAgDA,MAAhD,CAAL;AACH,aAFD;AAGAD,iBAAKM,SAAL,CAAe,UAAUC,OAAV,EAAmB;AAC9B,sCAAEV,OAAF,EAAWF,UAAX,CAAsB,SAAtB,EAAiC,sBAAOY,OAAP,EAAgBN,MAAhB,EAAwBG,MAAxB,EAAjC;AACH,aAFD;AAGH,SAdD,MAcO,IAAIJ,IAAJ,EAAU;AACb,kCAAEH,OAAF,EAAWF,UAAX,CAAsB,SAAtB,EAAiC,sBAAOK,IAAP,EAAaC,MAAb,EAAqBG,MAArB,EAAjC;AACH;AACJ;AAxB2B,CAAhC","file":"timepicker.js","sourcesContent":["import ko from 'knockout';\r\nimport $ from 'jquery';\r\nimport moment from 'moment';\r\nimport 'timepicker';\r\nimport 'timepicker/jquery.timepicker.min.css';\r\n\r\nko.bindingHandlers.timepicker = {\r\n    init: function (element, valueAccessor) {\r\n        var options = valueAccessor();\r\n        var data = options.data;\r\n        var format = options.format || '';\r\n        var picker = $(element).timepicker(options);\r\n\r\n        if (ko.isObservable(data)) {\r\n            //set initial values\r\n            if (data()) {\r\n                $(element).timepicker('setTime', moment(data(), format).toDate());\r\n            } else {\r\n                data(moment($(element).timepicker('getTime')).format(format));\r\n            }\r\n\r\n            picker.on('change', function () {\r\n                data(moment($(element).timepicker('getTime')).format(format));\r\n            });\r\n            data.subscribe(function (newTime) {\r\n                $(element).timepicker('setTime', moment(newTime, format).toDate());\r\n            })\r\n        } else if (data) {\r\n            $(element).timepicker('setTime', moment(data, format).toDate());\r\n        }\r\n    }\r\n};\r\n"]}