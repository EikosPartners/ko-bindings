{"version":3,"sources":["../src/timepicker.js"],"names":[],"mappings":";;AAAA;;;;AACA;;;;AACA;;;;AACA;;AACA;;;;AAEA,mBAAG,eAAH,CAAmB,UAAnB,GAAgC;AAC5B,UAAM,cAAU,OAAV,EAAmB,aAAnB,EAAkC;AACpC,YAAI,UAAU,eAAd;AACA,YAAI,OAAO,QAAQ,IAAnB;AACA,YAAI,SAAS,QAAQ,MAAR,IAAkB,EAA/B;AACA,YAAI,SAAS,sBAAE,OAAF,EAAW,UAAX,CAAsB,OAAtB,CAAb;AACA,YAAI,IAAJ;;AAEA,YAAI,mBAAG,YAAH,CAAgB,IAAhB,CAAJ,EAA2B;AACvB;AACA,gBAAI,MAAJ,EAAY;AACR,sCAAE,OAAF,EAAW,UAAX,CAAsB,SAAtB,EAAiC,sBAAO,MAAP,EAAe,MAAf,EAAuB,MAAvB,EAAjC;AACH,aAFD,MAEO;AACH,uBAAO,sBAAE,OAAF,EAAW,UAAX,CAAsB,SAAtB,CAAP,CADG,CACsC;AACzC,oBAAI,IAAJ,EAAU;AACN,yBAAK,sBAAO,IAAP,EAAa,MAAb,CAAoB,MAApB,CAAL;AACH;AACJ;;AAED,mBAAO,EAAP,CAAU,QAAV,EAAoB,YAAY;AAC5B,oBAAI,WAAW,sBAAO,sBAAE,OAAF,EAAW,UAAX,CAAsB,SAAtB,CAAP,CAAf;AACA,oBAAG,SAAS,OAAT,EAAH,EAAuB;AACnB,yBAAK,SAAS,MAAT,CAAgB,MAAhB,CAAL;AACH,iBAFD,MAEO;AACH,yBAAK,EAAL;AACH;AACJ,aAPD;AAQA,iBAAK,SAAL,CAAe,UAAU,OAAV,EAAmB;AAC9B,sCAAE,OAAF,EAAW,UAAX,CAAsB,SAAtB,EAAiC,sBAAO,OAAP,EAAgB,MAAhB,EAAwB,MAAxB,EAAjC;AACH,aAFD;AAGH,SAtBD,MAsBO,IAAI,IAAJ,EAAU;AACb,kCAAE,OAAF,EAAW,UAAX,CAAsB,SAAtB,EAAiC,sBAAO,IAAP,EAAa,MAAb,EAAqB,MAArB,EAAjC;AACH;;AAED,eAAO,EAAP,CAAU,gBAAV,EAA4B,YAAW;AACnC,kCAAE,wBAAF,EAA4B,UAA5B,CAAuC,sBAAE,OAAF,EAAW,UAAX,EAAvC;AACH,SAFD;AAIH;AAtC2B,CAAhC","file":"timepicker.js","sourcesContent":["import ko from 'knockout';\r\nimport $ from 'jquery';\r\nimport moment from 'moment';\r\nimport 'timepicker';\r\nimport 'timepicker/jquery.timepicker.min.css';\r\n\r\nko.bindingHandlers.timepicker = {\r\n    init: function (element, valueAccessor) {\r\n        var options = valueAccessor();\r\n        var data = options.data;\r\n        var format = options.format || '';\r\n        var picker = $(element).timepicker(options);\r\n        var time;\r\n\r\n        if (ko.isObservable(data)) {\r\n            //set initial values\r\n            if (data()) {\r\n                $(element).timepicker('setTime', moment(data(), format).toDate());\r\n            } else {\r\n                time = $(element).timepicker('getTime'); // Does this ever return a value?\r\n                if (time) {\r\n                    data(moment(time).format(format));\r\n                }\r\n            }\r\n\r\n            picker.on('change', function () {\r\n                let newValue = moment($(element).timepicker('getTime'));\r\n                if(newValue.isValid()) {\r\n                    data(newValue.format(format));\r\n                } else {\r\n                    data('');\r\n                }\r\n            });\r\n            data.subscribe(function (newTime) {\r\n                $(element).timepicker('setTime', moment(newTime, format).toDate());\r\n            });\r\n        } else if (data) {\r\n            $(element).timepicker('setTime', moment(data, format).toDate());\r\n        }\r\n\r\n        picker.on('showTimepicker', function() {\r\n            $('.ui-timepicker-wrapper').outerWidth($(element).outerWidth());\r\n        })\r\n\r\n    }\r\n};\r\n"]}