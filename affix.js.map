{"version":3,"sources":["../src/affix.js"],"names":["bindingHandlers","affix","init","element","valueAccessor","value","unwrap","checkScroll","window","pageYOffset","addClass","removeClass","bind","utils","domNodeDisposal","addDisposeCallback","unbind"],"mappings":";;AAAA;;;;AACA;;;;;;AAEA;;;;;AAKI,mBAAGA,eAAH,CAAmBC,KAAnB,GAA2B;AACvBC,UAAM,cAAUC,OAAV,EAAmBC,aAAnB,EAAkC;AACpC,YAAIC,QAAQ,mBAAGC,MAAH,CAAUF,eAAV,CAAZ;;AAEA,iBAASG,WAAT,GAAuB;AACnB,gBAAIC,OAAOC,WAAP,IAAsBJ,KAA1B,EAAiC;AAC7B,sCAAEF,OAAF,EAAWO,QAAX,CAAoB,OAApB;AACH,aAFD,MAEO;AACH,sCAAEP,OAAF,EAAWQ,WAAX,CAAuB,OAAvB;AACH;AACJ;;AAED,8BAAEH,MAAF,EAAUI,IAAV,CAAe,QAAf,EAAyBL,WAAzB;;AAEA,2BAAGM,KAAH,CAASC,eAAT,CAAyBC,kBAAzB,CAA4CZ,OAA5C,EAAqD,YAAW;AAC5D,kCAAEK,MAAF,EAAUQ,MAAV,CAAiB,QAAjB,EAA2BT,WAA3B;AACH,SAFD;AAGH;AAjBsB,CAA3B","file":"affix.js","sourcesContent":["import ko from 'knockout';\nimport $ from 'jquery';\n\n/**\n * TODO - description\n * @module affix\n */\n\n    ko.bindingHandlers.affix = {\n        init: function (element, valueAccessor) {\n            var value = ko.unwrap(valueAccessor());\n\n            function checkScroll() {\n                if (window.pageYOffset >= value) {\n                    $(element).addClass('affix');\n                } else {\n                    $(element).removeClass('affix');\n                }\n            }\n\n            $(window).bind('scroll', checkScroll);\n\n            ko.utils.domNodeDisposal.addDisposeCallback(element, function() {\n                $(window).unbind('scroll', checkScroll);\n            });\n        }\n    }\n"]}