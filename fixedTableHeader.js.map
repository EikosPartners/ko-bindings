{"version":3,"sources":["../src/fixedTableHeader.js"],"names":["bindingHandlers","fixedTableHeader","init","element","valueAccessor","$table","$bodyCells","colWidth","options","$scrollContainer","resizeHandler","find","children","map","window","getComputedStyle","width","each","i","v","css","resize","setTimeout","scrollListener","scrollParent","bind","utils","domNodeDisposal","addDisposeCallback","unbind"],"mappings":";;AAAA;;;;AACA;;;;;;AAEA;;;;;AAKI,mBAAGA,eAAH,CAAmBC,gBAAnB,GAAsC;AAClCC,UAAM,cAAUC,OAAV,EAAmBC,aAAnB,EAAkC;AACpC,YAAIC,SAAS,sBAAEF,OAAF,CAAb;AAAA,YACIG,UADJ;AAAA,YAEIC,QAFJ;AAAA,YAGIC,UAAUJ,eAHd;AAAA,YAIIK,gBAJJ;;AAMA,iBAASC,aAAT,GAAyB;AACrBJ,yBAAaD,OAAOM,IAAP,CAAY,gBAAZ,EAA8BC,QAA9B,EAAb;AACAL,uBAAWD,WAAWO,GAAX,CAAe,YAAW;AACjC,uBAAOC,OAAOC,gBAAP,CAAwB,IAAxB,EAA8BC,KAArC;AACH,aAFU,CAAX;;AAIA;AACAX,mBAAOM,IAAP,CAAY,UAAZ,EAAwBC,QAAxB,GAAmCK,IAAnC,CAAwC,UAASC,CAAT,EAAYC,CAAZ,EAAe;AACnD,sCAAEA,CAAF,EAAKC,GAAL,CAAS,OAAT,EAAkBb,SAASW,CAAT,CAAlB;AACH,aAFD;AAGH;;AAED,8BAAEJ,MAAF,EAAUO,MAAV,CAAiBX,aAAjB;AACAY,mBAAW,YAAY;AACnBZ;AACH,SAFD;;AAIA,YAAGF,QAAQe,cAAX,EAA2B;AACvBd,+BAAmB,sBAAEN,OAAF,EAAWqB,YAAX,EAAnB;AACAf,6BAAiBgB,IAAjB,CAAsB,QAAtB,EAAgCjB,QAAQe,cAAxC;AACH;;AAED,2BAAGG,KAAH,CAASC,eAAT,CAAyBC,kBAAzB,CAA4CzB,OAA5C,EAAqD,YAAW;AAC5D,kCAAEW,MAAF,EAAUe,MAAV,CAAiB,QAAjB,EAA2BnB,aAA3B;AACA,gBAAGF,QAAQe,cAAX,EAA2B;AACvBd,iCAAiBoB,MAAjB,CAAwB,QAAxB,EAAkCrB,QAAQe,cAA1C;AACH;AACJ,SALD;AAMH;AApCiC,CAAtC","file":"fixedTableHeader.js","sourcesContent":["import ko from 'knockout';\nimport $ from 'jquery';\n\n/**\n * TODO - description\n * @module fixedTableHeader\n */\n\n    ko.bindingHandlers.fixedTableHeader = {\n        init: function (element, valueAccessor) {\n            var $table = $(element),\n                $bodyCells,\n                colWidth,\n                options = valueAccessor(),\n                $scrollContainer;\n\n            function resizeHandler() {\n                $bodyCells = $table.find('tbody tr:first').children();\n                colWidth = $bodyCells.map(function() {\n                    return window.getComputedStyle(this).width;\n                });\n\n                // Set the width of thead columns\n                $table.find('thead tr').children().each(function(i, v) {\n                    $(v).css('width', colWidth[i]);\n                });\n            }\n\n            $(window).resize(resizeHandler);\n            setTimeout(function () {\n                resizeHandler();\n            });\n\n            if(options.scrollListener) {\n                $scrollContainer = $(element).scrollParent();\n                $scrollContainer.bind('scroll', options.scrollListener);\n            }\n\n            ko.utils.domNodeDisposal.addDisposeCallback(element, function() {\n                $(window).unbind('resize', resizeHandler);\n                if(options.scrollListener) {\n                    $scrollContainer.unbind('scroll', options.scrollListener);\n                }\n            });\n        }\n    }\n"]}