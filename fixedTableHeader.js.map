{"version":3,"sources":["../src/fixedTableHeader.js"],"names":["bindingHandlers","fixedTableHeader","init","element","valueAccessor","$table","$bodyCells","colWidth","options","$scrollContainer","resizeHandler","find","children","map","window","getComputedStyle","width","each","i","v","css","resize","setTimeout","scrollListener","scrollParent","bind","utils","domNodeDisposal","addDisposeCallback","unbind"],"mappings":";;AAAA;;;;AACA;;;;;;AAEA;;;;;AAKI,mBAAGA,eAAH,CAAmBC,gBAAnB,GAAsC;AAClCC,UAAM,cAAUC,OAAV,EAAmBC,aAAnB,EAAkC;AACpC,YAAIC,SAAS,sBAAEF,OAAF,CAAb;AAAA,YACIG,UADJ;AAAA,YAEIC,QAFJ;AAAA,YAGIC,UAAUJ,eAHd;AAAA,YAIIK,gBAJJ;;AAMA,iBAASC,aAAT,GAAyB;AACrBJ,yBAAaD,OAAOM,IAAP,CAAY,gBAAZ,EAA8BC,QAA9B,EAAb;AACAL,uBAAWD,WAAWO,GAAX,CAAe,YAAW;AACjC,uBAAOC,OAAOC,gBAAP,CAAwB,IAAxB,EAA8BC,KAArC;AACH,aAFU,CAAX;;AAIA;AACAX,mBAAOM,IAAP,CAAY,UAAZ,EAAwBC,QAAxB,GAAmCK,IAAnC,CAAwC,UAASC,CAAT,EAAYC,CAAZ,EAAe;AACnD,sCAAEA,CAAF,EAAKC,GAAL,CAAS,OAAT,EAAkBb,SAASW,CAAT,CAAlB;AACH,aAFD;AAGH;;AAED,8BAAEJ,MAAF,EAAUO,MAAV,CAAiBX,aAAjB;AACAY,mBAAW,YAAY;AACnBZ;AACH,SAFD;;AAIA,YAAGF,QAAQe,cAAX,EAA2B;AACvBd,+BAAmB,sBAAEN,OAAF,EAAWqB,YAAX,EAAnB;AACAf,6BAAiBgB,IAAjB,CAAsB,QAAtB,EAAgCjB,QAAQe,cAAxC;AACH;;AAED,2BAAGG,KAAH,CAASC,eAAT,CAAyBC,kBAAzB,CAA4CzB,OAA5C,EAAqD,YAAW;AAC5D,kCAAEW,MAAF,EAAUe,MAAV,CAAiB,QAAjB,EAA2BnB,aAA3B;AACA,gBAAGF,QAAQe,cAAX,EAA2B;AACvBd,iCAAiBoB,MAAjB,CAAwB,QAAxB,EAAkCrB,QAAQe,cAA1C;AACH;AACJ,SALD;AAMH;AApCiC,CAAtC","file":"fixedTableHeader.js","sourcesContent":["import ko from 'knockout';\r\nimport $ from 'jquery';\r\n\r\n/**\r\n * TODO - description\r\n * @module fixedTableHeader\r\n */\r\n\r\n    ko.bindingHandlers.fixedTableHeader = {\r\n        init: function (element, valueAccessor) {\r\n            var $table = $(element),\r\n                $bodyCells,\r\n                colWidth,\r\n                options = valueAccessor(),\r\n                $scrollContainer;\r\n\r\n            function resizeHandler() {\r\n                $bodyCells = $table.find('tbody tr:first').children();\r\n                colWidth = $bodyCells.map(function() {\r\n                    return window.getComputedStyle(this).width;\r\n                });\r\n\r\n                // Set the width of thead columns\r\n                $table.find('thead tr').children().each(function(i, v) {\r\n                    $(v).css('width', colWidth[i]);\r\n                });\r\n            }\r\n\r\n            $(window).resize(resizeHandler);\r\n            setTimeout(function () {\r\n                resizeHandler();\r\n            });\r\n\r\n            if(options.scrollListener) {\r\n                $scrollContainer = $(element).scrollParent();\r\n                $scrollContainer.bind('scroll', options.scrollListener);\r\n            }\r\n\r\n            ko.utils.domNodeDisposal.addDisposeCallback(element, function() {\r\n                $(window).unbind('resize', resizeHandler);\r\n                if(options.scrollListener) {\r\n                    $scrollContainer.unbind('scroll', options.scrollListener);\r\n                }\r\n            });\r\n        }\r\n    }\r\n"]}